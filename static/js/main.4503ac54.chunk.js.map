{"version":3,"sources":["context/CartContext.js","components/CartWidget/CartWidget.js","components/NavBar/NavBar.js","components/Footer/Footer.js","img/sliderlondon.jpg","img/sliderguide.jpg","img/sliderpostcard.jpg","components/BootstrapCarousel/BootstrapCarousel.js","components/ItemListContainer/Item.js","components/ItemListContainer/ItemList.js","context/UIContext.js","firebase/config.js","components/Loader/Loader.js","components/ItemListContainer/ItemListContainer.js","components/ItemCount/ItemCount.js","components/ItemDetailContainer/ItemDetail.js","components/ItemDetailContainer/ItemDetailContainer.js","img/guides.jpg","components/About/About.js","components/About/AboutContainer.js","components/CartScreen/CartScreen.js","components/Checkout/Checkout.js","firebase/createOrder.js","App.js","reportWebVitals.js","index.js"],"names":["CartContext","createContext","CartProvider","children","useState","JSON","parse","localStorage","getItem","cart","setCart","useEffect","setItem","stringify","Provider","value","isInCart","id","some","el","addToCart","city","deleteFromCart","filter","cartQuantity","reduce","acc","quantity","emptyCart","cartTotal","price","CartWidget","useContext","to","className","NavBar","Navbar","collapseOnSelect","expand","Container","Brand","as","Link","Toggle","Collapse","Nav","NavDropdown","title","Item","Footer","href","target","rel","BootstrapCarousel","Carousel","src","ImgLondon","alt","ImgGuide","ImgPostcard","Component","img","name","desc","Card","Img","Body","Title","Text","ItemList","cities","map","UIContext","UIContextProvider","loading","setLoading","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","firestore","Loader","ItemListContainer","regionId","useParams","data","setData","collection","where","get","then","response","docs","doc","finally","ItemCount","max","setQuantity","add","added","onClick","ItemDetail","region","bigdesc","picture","stock","ItemDetailContainer","itemId","item","About","ImgAbout","AboutContainer","setTimeout","CartScreen","Checkout","email","phone","values","setValues","handleInputChange","e","length","onSubmit","preventDefault","buyer","total","Promise","resolve","reject","a","db","orders","newOrder","items","date","Timestamp","fromDate","Date","itemsToUpdate","FieldPath","documentId","batch","query","outOfStock","forEach","itemInCart","find","update","ref","push","res","commit","catch","error","noStock","createOrder","Swal","fire","icon","text","confirmButtonText","console","log","type","onChange","placeholder","required","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4503ac54.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from 'react';\r\n\r\n// Context creation\r\n\r\nexport const CartContext = createContext();\r\n\r\n// Custom Provider\r\n\r\nexport const CartProvider = ({children}) => {\r\n\r\n    const [cart, setCart] = useState(JSON.parse(localStorage.getItem(\"cart\")) || []);\r\n\r\n    const addToCart = (city) => {\r\n        setCart([\r\n            ...cart,\r\n            city\r\n        ]);\r\n    };\r\n\r\n    const deleteFromCart = (id) => {\r\n        setCart( cart.filter(city => city.id !== id) );\r\n    };\r\n\r\n    const cartQuantity = () => {\r\n        return cart.reduce((acc, city) => acc + city.quantity, 0);\r\n    };\r\n\r\n    const emptyCart = () => {\r\n        setCart([]);\r\n    };\r\n\r\n    const isInCart = (id) => {\r\n        return cart.some(el => el.id === id);\r\n    };\r\n\r\n    const cartTotal = () => {\r\n        return cart.reduce((acc, city) => acc + city.price * city.quantity, 0)\r\n    };\r\n\r\n    useEffect(() => {\r\n\t\tlocalStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\t}, [cart]);\r\n\r\n    return (\r\n        <CartContext.Provider value={{cart, isInCart, addToCart, deleteFromCart, cartQuantity, emptyCart, cartTotal}}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CartProvider;","import React, { useContext } from 'react';\r\nimport './CartWidget.css';\r\nimport { AiOutlineShoppingCart } from 'react-icons/ai';\r\nimport { CartContext } from '../../context/CartContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CartWidget = () => {\r\n\r\n    const {cartQuantity, cart} = useContext(CartContext);\r\n\r\n    return (\r\n        <Link to=\"/cart\">\r\n            <div className=\"cart-widget\">\r\n                <AiOutlineShoppingCart className=\"cart-icon\"/>\r\n                {\r\n                    /* Span is not shown if the cart is empty */\r\n                    cart >= 0 ? <span></span>\r\n                    : <span className=\"cart-span\">{cartQuantity()}</span>\r\n                }\r\n            </div>\r\n        </Link>\r\n    );\r\n\r\n};\r\n\r\nexport default CartWidget;","import React from 'react';\r\nimport CartWidget from '../CartWidget/CartWidget';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport Container from 'react-bootstrap/Container';\r\nimport { Link } from 'react-router-dom';\r\nimport './NavBar.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst NavBar = () => {\r\n    return (\r\n\r\n            <Navbar collapseOnSelect expand=\"lg\">\r\n                <Container>\r\n                    <Navbar.Brand as={Link} to={\"/\"}>UMBRELLA</Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"me-auto\">\r\n                        <Nav.Link as={Link} to={\"/\"}>Home</Nav.Link>\r\n                        <NavDropdown title=\"Regions\" id=\"basic-nav-dropdown\">\r\n                            <NavDropdown.Item as={Link} to={\"/region/east\"}>East</NavDropdown.Item>\r\n                            <NavDropdown.Item as={Link} to={\"/region/scandinavia\"}>Scandinavia</NavDropdown.Item>\r\n                            <NavDropdown.Item as={Link} to={\"/region/south\"}>South</NavDropdown.Item>\r\n                            <NavDropdown.Item as={Link} to={\"/region/west\"}>West</NavDropdown.Item>\r\n                        </NavDropdown>\r\n                        <Nav.Link as={Link} to={\"/about\"}>About Us</Nav.Link>\r\n                    </Nav>\r\n                    <CartWidget/>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n            </Navbar>\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport './Footer.css';\r\nimport { SiFacebook, SiInstagram, SiTwitter, SiYoutube } from 'react-icons/si';\r\n\r\nconst Footer = () => {\r\n    return (\r\n\r\n            <footer className=\"footer container-fluid\">\r\n\r\n                <ul className=\"social-media\">\r\n                    <a className=\"sm-icon\" href=\"https://franciccone.github.io/portfolio/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><SiFacebook/></a>\r\n                    <a className=\"sm-icon\" href=\"https://franciccone.github.io/portfolio/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><SiInstagram/></a>\r\n                    <a className=\"sm-icon\" href=\"https://franciccone.github.io/portfolio/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><SiTwitter/></a>\r\n                    <a className=\"sm-icon\" href=\"https://franciccone.github.io/portfolio/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><SiYoutube/></a>\r\n                </ul>\r\n\r\n            </footer>\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/sliderlondon.74ef038b.jpg\";","export default __webpack_public_path__ + \"static/media/sliderguide.6435815c.jpg\";","export default __webpack_public_path__ + \"static/media/sliderpostcard.e5b82f56.jpg\";","import React, { Component } from 'react';\r\nimport './BootstrapCarousel.css';\r\nimport ImgLondon from '../../img/sliderlondon.jpg';\r\nimport ImgGuide from '../../img/sliderguide.jpg';\r\nimport ImgPostcard from '../../img/sliderpostcard.jpg';\r\nimport Carousel from 'react-bootstrap/Carousel';\r\n\r\nexport class BootstrapCarousel extends Component {\r\n\r\n    render() {  \r\n        return (\r\n\r\n            <Carousel className=\"container-slider\">\r\n                <Carousel.Item>\r\n                <img\r\n                    className=\"d-block w-100 slide-img\"\r\n                    src={ImgLondon}\r\n                    alt=\"London Big Ben\"\r\n                />\r\n                </Carousel.Item>\r\n\r\n                <Carousel.Item>\r\n                <img\r\n                    className=\"d-block w-100 slide-img\"\r\n                    src={ImgGuide}\r\n                    alt=\"Tourist guide\"\r\n                />\r\n                </Carousel.Item>\r\n\r\n                <Carousel.Item>\r\n                <img\r\n                    className=\"d-block w-100 slide-img\"\r\n                    src={ImgPostcard}\r\n                    alt=\"Munich postcard\"\r\n                />\r\n                </Carousel.Item>\r\n\r\n            </Carousel>\r\n        );\r\n    };\r\n    \r\n};\r\n\r\nexport default BootstrapCarousel;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport './Item.css';\r\n\r\nexport const Item = ( {id, img, name, desc, price} ) => {\r\n    return (\r\n            <Card className=\"card\">\r\n                <Card.Img src={img} alt={name} className=\"card-img\"/>\r\n                <Card.Body>\r\n                    <Card.Title className=\"card-name\">{name}</Card.Title>\r\n                    <Card.Text className=\"card-desc\">{desc}</Card.Text>\r\n                    <Card.Text className=\"card-price\">{price} €</Card.Text>\r\n                    <Link to={`/detail/${id}`} className=\"card-btn\">Book Now</Link>\r\n                </Card.Body>\r\n            </Card>\r\n    )\r\n};","import React from 'react';\r\nimport { Item } from './Item';\r\nimport './ItemList.css';\r\n\r\nexport const ItemList = ( {cities = []} ) => {\r\n\r\n    return (\r\n        <section className=\"container container-fluid\">\r\n            <h2 className=\"container-title\">Found us here</h2>\r\n            <hr/>\r\n            <div className=\"row\">\r\n\r\n                {cities.map( (city) => <Item key={city.id} {...city}/> )}\r\n\r\n            </div>\r\n        </section>\r\n    )\r\n\r\n};\r\n\r\nexport default ItemList;","import React, { createContext, useState } from 'react';\r\n\r\nexport const UIContext = createContext();\r\n\r\nexport const UIContextProvider = ({children}) => {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    return (\r\n        <UIContext.Provider value={{loading, setLoading}}>\r\n            {children}\r\n        </UIContext.Provider>\r\n    );\r\n};\r\n\r\nexport default UIContextProvider;","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAd1pKhNKyhtkM3Bl0U1KBZRUK-t8Jvz4I\",\r\n    authDomain: \"ecommerce-tourism.firebaseapp.com\",\r\n    projectId: \"ecommerce-tourism\",\r\n    storageBucket: \"ecommerce-tourism.appspot.com\",\r\n    messagingSenderId: \"677410416976\",\r\n    appId: \"1:677410416976:web:436214a8aab44050226455\"\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const getFirebase = () => {\r\n    return app\r\n};\r\n\r\nexport const getFirestore = () => {\r\n    return firebase.firestore(app)\r\n};","import React from 'react';\r\nimport './Loader.css';\r\n\r\nexport const Loader = ()=>{\r\n\r\n    // Loader spinner is inside the blank div\r\n\r\n    return <h2 className=\"loading container-fluid\">Loading... <div className=\"loader container-fluid\"></div></h2>\r\n\r\n};","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ItemList } from './ItemList';\r\nimport { UIContext } from '../../context/UIContext';\r\nimport { getFirestore } from '../../firebase/config';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nconst ItemListContainer = () => {\r\n\r\n    const {loading, setLoading} = useContext(UIContext);\r\n    const { regionId } = useParams();\r\n    const [data, setData] = useState([]);\r\n    \r\n    useEffect( () => {\r\n        setLoading(true)\r\n\r\n        const db = getFirestore()\r\n        const cities = db.collection('cities')\r\n\r\n        if (regionId) {\r\n            // Cities filtered by region\r\n            const filtered = cities.where('region', '==', regionId)\r\n            filtered.get()\r\n                .then((response) => {\r\n                    const data = response.docs.map((doc) => ({...doc.data(), id: doc.id}))\r\n                    setData(data)\r\n                })\r\n                .finally(()=> {\r\n                    setLoading(false)\r\n                })\r\n        } else {\r\n            cities.get()\r\n                .then((response) => {\r\n                    const data = response.docs.map((doc) => ({...doc.data(), id: doc.id}))\r\n                    setData(data)\r\n                })\r\n                .finally(()=> {\r\n                    setLoading(false)\r\n                })\r\n        }\r\n\r\n    }, [regionId, setLoading])\r\n\r\n    return (\r\n        <>\r\n\r\n            {\r\n                loading\r\n                ? <Loader/>\r\n                : <ItemList cities={data}/>\r\n            }\r\n\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default ItemListContainer;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './ItemCount.css';\r\n\r\nexport const ItemCount = ({max, quantity, setQuantity, add, added}) => {\r\n\r\n    const handleAdd = () => {\r\n        if (quantity < max) {\r\n            setQuantity(quantity + 1)\r\n        };\r\n    };\r\n\r\n    const handleRest = () => {\r\n        if (quantity > 1) {\r\n            setQuantity(quantity - 1)\r\n        };\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"button-box container-fluid\">\r\n                {\r\n                    added \r\n                        ? <Link to=\"/cart\" className=\"finish-btn\">Finish the purchease</Link>\r\n                        :\r\n                    \r\n                        <div className=\"button-box container-fluid\">\r\n                            <button className=\"minus-button\" onClick={handleRest}>-</button>\r\n                            <p>{quantity}</p>\r\n                            <button className=\"plus-button\"onClick={handleAdd}>+</button>\r\n                            <button className=\"add-button\" onClick={add}>Add to cart</button>\r\n                        </div>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n};","import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ItemCount } from '../ItemCount/ItemCount';\r\nimport { CartContext } from '../../context/CartContext';\r\nimport './ItemDetail.css';\r\nimport { RiMoneyDollarBoxLine } from 'react-icons/ri';\r\n\r\nexport const ItemDetail = ({region, id, name, desc, bigdesc, img, picture, price, stock}) => {\r\n\r\n    const {addToCart, isInCart} = useContext(CartContext);\r\n\r\n    const [quantity, setQuantity] = useState(1);\r\n\r\n    const handleAdd = () => {\r\n        addToCart ({\r\n                id, name, region, desc, img, price, quantity\r\n        });\r\n    };\r\n\r\n    return (\r\n        <section className=\"container-fluid\">\r\n\r\n            <img className=\"city-img\" src={picture} alt={name}/>\r\n\r\n            <div className=\"city-box container-fluid\">\r\n\r\n                <h2 className=\"city-name\">{name}</h2>\r\n\r\n                <div className=\"city-data-box\">\r\n                    <p className=\"city-desc\">{bigdesc}</p>\r\n                    <div className=\"city-ticket-box\">\r\n                        <div className=\"city-price-box\">\r\n                            <p className=\"city-price\"><RiMoneyDollarBoxLine className=\"icon-price\"/>{price}</p>\r\n                        </div>\r\n                        <ItemCount\r\n                            max={stock}\r\n                            quantity={quantity}\r\n                            setQuantity={setQuantity}\r\n                            add={handleAdd}\r\n                            added={isInCart(id)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"back-btn-box\">\r\n                    <Link to={`/regions/${region}`} className=\"city-btn\">Back</Link>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </section>\r\n    )\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ItemDetail } from './ItemDetail';\r\nimport { getFirestore } from '../../firebase/config';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nexport const ItemDetailContainer = () => {\r\n\r\n    const { itemId } = useParams()\r\n\r\n    const [item, setItem] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n\r\n        const db = getFirestore()\r\n        const cities = db.collection('cities')\r\n        const item = cities.doc(itemId)\r\n\r\n        item.get()\r\n            .then((doc) => {\r\n            setItem( {...doc.data(), id: doc.id} )\r\n            })\r\n            .finally(()=> { setLoading(false)})\r\n\r\n    }, [itemId, setLoading])\r\n    \r\n    return (\r\n        <div>\r\n            {loading \r\n                ? <Loader/>\r\n                : <ItemDetail {...item}/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemDetailContainer;","export default __webpack_public_path__ + \"static/media/guides.41509959.jpg\";","import React from 'react';\r\nimport './About.css';\r\nimport ImgAbout from '../../img/guides.jpg';\r\n\r\nexport const About = ( ) => {\r\n\r\n    return (\r\n        <section className=\"about-container container-fluid\">\r\n            <img className=\"img-fluid\" src={ImgAbout} alt=\"Tourist guides\"/>\r\n            <h2 className=\"about-title text-center\">Changing the way of making tourism</h2>\r\n            <article className=\"about-text\">\r\n                <p className=\"about-p text-center\">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>\r\n                <p className=\"about-p text-center\">At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n                <p className=\"about-p text-center\">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>\r\n                <p className=\"about-p text-center\">At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>\r\n            </article>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default About;","import React, { useEffect, useState } from 'react';\r\nimport { About } from './About';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nexport const AboutContainer = () => {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(()=>{\r\n        setTimeout(() => {\r\n            setLoading(false)\r\n        }, 1000); \r\n    }, [])\r\n    \r\n    return (\r\n        <div className=\"container-fluid\">\r\n            {loading \r\n                ? <Loader/>\r\n                : <About/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AboutContainer;","import React, { useContext } from 'react';\r\nimport { CartContext } from '../../context/CartContext';\r\nimport { BsFillTrashFill } from 'react-icons/bs';\r\nimport { Link } from 'react-router-dom';\r\nimport './CartScreen.css';\r\n\r\nexport const CartScreen = () => {\r\n\r\n    const {cart, deleteFromCart, emptyCart} = useContext(CartContext);\r\n\r\n    return (\r\n        <>\r\n        { cart >= 0 ? (\r\n                        // If the cart is empty, this section is shown\r\n                        <section className=\"cart-screen-container\">\r\n\r\n                        <div className=\"cart-screen-container-empty\">\r\n                            <h1 className=\"cart-screen-title\">Your cart is empty!</h1>\r\n\r\n                            <hr/>\r\n\r\n                            <Link to=\"/regions\">\r\n                            <button className=\"btn btn-danger btn-empty\">Find your city</button>\r\n                            </Link>\r\n                        </div>\r\n\r\n                        </section>\r\n                        \r\n                        )   :   (\r\n                        // If the cart has items inside, this section is showed\r\n                        <section className=\"cart-screen-container\">\r\n                            <div>\r\n                                <h1 className=\"cart-screen-title\">Your tours</h1>\r\n                                <div className=\"cart-screen-container-full\">\r\n                                    {cart.map(city => (\r\n                                        <div className=\"cart-screen-box\" key={city.id}>\r\n                                            <img src={city.img} alt={city.name} className=\"card-screen-img\"/>\r\n                                            <h3 className=\"cart-screen-name\">{city.name}</h3>\r\n                                            <p className=\"cart-screen-text\">Quantity: {city.quantity}</p>\r\n                                            <p className=\"cart-screen-text\">Price: {city.price * city.quantity} €</p>\r\n                                            <BsFillTrashFill onClick={() => deleteFromCart(city.id)} className=\"cart-screen-trash\"/>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <hr/>\r\n\r\n                                <div className=\"btn-box\">\r\n                                    <button className=\"btn btn-danger btn-empty\" onClick={emptyCart}>Empty cart</button>\r\n                                    <Link to=\"/checkout\">\r\n                                        <button className=\"btn btn-danger btn-empty\">Finish buy</button>\r\n                                    </Link>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </section>)\r\n\r\n        }\r\n        </>\r\n        \r\n    );\r\n};\r\n\r\nexport default CartScreen;","import React, { useContext, useState } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport Swal from 'sweetalert2';\r\nimport { CartContext } from '../../context/CartContext';\r\nimport { createOrder } from '../../firebase/createOrder';\r\nimport './Checkout.css';\r\n\r\nexport const Checkout = () => {\r\n\r\n    const {cart, cartTotal, emptyCart} = useContext(CartContext);\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        phone: 0\r\n    });\r\n\r\n    const handleInputChange = (e) => {\r\n        setValues({\r\n            ...values,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (values.name.length > 3 && values.email.length > 3) {\r\n            createOrder(values, cart, cartTotal())\r\n                .then(res => {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: 'Your booking has been registered!',\r\n                        text: `Your ID is ${res}. Thank you very much for trusting us.`,\r\n                        confirmButtonText: 'Done'\r\n                    })\r\n                    emptyCart()\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'Something went wrong! Please check your information.',\r\n            })\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section className=\"checkout-box\">\r\n            <h2 className=\"checkout-title\">Checkout</h2>\r\n\r\n            <hr/>\r\n\r\n            {!cart.length \r\n                ? <Redirect to=\"/\"/>\r\n                :\r\n                <div>\r\n                    <form className=\"form-box\" onSubmit={handleSubmit}>\r\n                        <input\r\n                            className=\"input\"\r\n                            type=\"text\"\r\n                            value={values.name}\r\n                            onChange={handleInputChange}\r\n                            name=\"name\"\r\n                            placeholder=\"Name\"\r\n                            required\r\n                        />\r\n                        <input\r\n                            className=\"input\"\r\n                            type=\"email\"\r\n                            value={values.email}\r\n                            onChange={handleInputChange}\r\n                            name=\"email\"\r\n                            placeholder=\"Email\"\r\n                            required\r\n                        />\r\n                        <input\r\n                            className=\"input\"\r\n                            type=\"phone\"\r\n                            value={values.phone}\r\n                            onChange={handleInputChange}\r\n                            name=\"phone\"\r\n                            placeholder=\"Phone\"\r\n                            required\r\n                        />\r\n                        <button className=\"btn btn-danger form-btn\" type=\"submit\">Submit</button>\r\n                    </form>\r\n                </div>\r\n            }\r\n\r\n        </section>\r\n    );\r\n};\r\n","import { getFirestore } from './config';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nexport const createOrder = (buyer, cart, total) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const db = getFirestore();\r\n        const orders = db.collection('orders');\r\n\r\n        const newOrder = {\r\n            buyer: buyer,\r\n            items: cart,\r\n            total: total,\r\n            date: firebase.firestore.Timestamp.fromDate(new Date())\r\n        };\r\n\r\n        const itemsToUpdate = db.collection('cities')\r\n            .where(firebase.firestore.FieldPath.documentId(), 'in', cart.map(cities => cities.id))\r\n\r\n        const batch = db.batch();\r\n        const query = await itemsToUpdate.get();\r\n\r\n        const outOfStock = [];\r\n\r\n        query.docs.forEach((doc) => {\r\n            const itemInCart = cart.find(el => el.id === doc.id)\r\n            if (doc.data().stock >= itemInCart.quantity) {\r\n                batch.update(doc.ref, {stock: doc.data().stock - itemInCart.quantity})\r\n            } else {\r\n                outOfStock.push({id: doc.id, ...doc.data()})\r\n            }\r\n        });\r\n\r\n        if (outOfStock.length === 0) {\r\n            orders.add(newOrder)\r\n                .then((res) => {\r\n                    batch.commit()\r\n                    resolve(res.id)\r\n                })\r\n                .catch((error) => {\r\n                    reject(error)\r\n                })\r\n        } else {\r\n            reject({\r\n                error: \"There are no places available for this tour\",\r\n                noStock: outOfStock\r\n            })\r\n        };\r\n\r\n    });\r\n\r\n};","import NavBar from './components/NavBar/NavBar';\nimport Footer from './components/Footer/Footer';\nimport BootstrapCarousel from './components/BootstrapCarousel/BootstrapCarousel';\nimport ItemListContainer from './components/ItemListContainer/ItemListContainer';\nimport ItemDetailContainer from './components/ItemDetailContainer/ItemDetailContainer';\nimport AboutContainer from './components/About/AboutContainer';\nimport CartProvider from './context/CartContext';\nimport CartScreen from './components/CartScreen/CartScreen';\nimport UIContextProvider from './context/UIContext';\nimport './css/styles.css';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { Checkout } from './components/Checkout/Checkout';\n\nfunction App() {\n  return (\n    <>\n      <UIContextProvider>\n        <CartProvider>\n          <BrowserRouter>\n            <NavBar/>\n\n            <Switch>\n              <Route exact path=\"/\">\n                <BootstrapCarousel/>\n                <ItemListContainer/>\n              </Route>\n\n              <Route exact path=\"/region/:regionId\">\n                <ItemListContainer/>\n              </Route>\n\n              <Route exact path=\"/about\">\n                <AboutContainer/>\n              </Route>\n\n              <Route exact path=\"/detail/:itemId\">\n                <ItemDetailContainer/>\n              </Route>\n\n              <Route exact path=\"/cart\">\n                <CartScreen/>\n              </Route>\n\n              <Route exact path=\"/checkout\">\n                <Checkout/>\n              </Route>\n\n              <Route path=\"*\">\n                <Redirect to=\"/\"/>\n              </Route>\n            </Switch>\n\n            <Footer/>\n\n          </BrowserRouter>\n        </CartProvider>\n      </UIContextProvider>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}