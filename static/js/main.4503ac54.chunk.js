(this["webpackJsonpecommerce-react"]=this["webpackJsonpecommerce-react"]||[]).push([[0],{105:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(30),i=c.n(s),r=(c(99),c(82)),o=c(47),j=c(5),l=c(3),d=Object(n.createContext)(),b=function(e){var t=e.children,c=Object(n.useState)(JSON.parse(localStorage.getItem("cart"))||[]),a=Object(j.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(s))}),[s]),Object(l.jsx)(d.Provider,{value:{cart:s,isInCart:function(e){return s.some((function(t){return t.id===e}))},addToCart:function(e){i([].concat(Object(o.a)(s),[e]))},deleteFromCart:function(e){i(s.filter((function(t){return t.id!==e})))},cartQuantity:function(){return s.reduce((function(e,t){return e+t.quantity}),0)},emptyCart:function(){i([])},cartTotal:function(){return s.reduce((function(e,t){return e+t.price*t.quantity}),0)}},children:t})},u=c(12),m=function(){var e=Object(n.useContext)(d),t=e.cartQuantity,c=e.cart;return Object(l.jsx)(u.b,{to:"/cart",children:Object(l.jsxs)("div",{className:"cart-widget",children:[Object(l.jsx)(r.a,{className:"cart-icon"}),c>=0?Object(l.jsx)("span",{}):Object(l.jsx)("span",{className:"cart-span",children:t()})]})})},h=c(50),O=c(66),x=c(42),f=c(84),p=(c(105),c(106),function(){return Object(l.jsx)(h.a,{collapseOnSelect:!0,expand:"lg",children:Object(l.jsxs)(f.a,{children:[Object(l.jsx)(h.a.Brand,{as:u.b,to:"/",children:"UMBRELLA"}),Object(l.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsxs)(h.a.Collapse,{id:"basic-navbar-nav",children:[Object(l.jsxs)(O.a,{className:"me-auto",children:[Object(l.jsx)(O.a.Link,{as:u.b,to:"/",children:"Home"}),Object(l.jsxs)(x.a,{title:"Regions",id:"basic-nav-dropdown",children:[Object(l.jsx)(x.a.Item,{as:u.b,to:"/region/east",children:"East"}),Object(l.jsx)(x.a.Item,{as:u.b,to:"/region/scandinavia",children:"Scandinavia"}),Object(l.jsx)(x.a.Item,{as:u.b,to:"/region/south",children:"South"}),Object(l.jsx)(x.a.Item,{as:u.b,to:"/region/west",children:"West"})]}),Object(l.jsx)(O.a.Link,{as:u.b,to:"/about",children:"About Us"})]}),Object(l.jsx)(m,{})]})]})})}),g=(c(109),c(48)),N=function(){return Object(l.jsx)("footer",{className:"footer container-fluid",children:Object(l.jsxs)("ul",{className:"social-media",children:[Object(l.jsx)("a",{className:"sm-icon",href:"https://franciccone.github.io/portfolio/",target:"_blank",rel:"nofollow noopener noreferrer",children:Object(l.jsx)(g.a,{})}),Object(l.jsx)("a",{className:"sm-icon",href:"https://franciccone.github.io/portfolio/",target:"_blank",rel:"nofollow noopener noreferrer",children:Object(l.jsx)(g.b,{})}),Object(l.jsx)("a",{className:"sm-icon",href:"https://franciccone.github.io/portfolio/",target:"_blank",rel:"nofollow noopener noreferrer",children:Object(l.jsx)(g.c,{})}),Object(l.jsx)("a",{className:"sm-icon",href:"https://franciccone.github.io/portfolio/",target:"_blank",rel:"nofollow noopener noreferrer",children:Object(l.jsx)(g.d,{})})]})})},v=c(87),y=c(88),k=c(93),C=c(92),I=(c(110),c.p+"static/media/sliderlondon.74ef038b.jpg"),S=c.p+"static/media/sliderguide.6435815c.jpg",w=c.p+"static/media/sliderpostcard.e5b82f56.jpg",T=c(49),F=function(e){Object(k.a)(c,e);var t=Object(C.a)(c);function c(){return Object(v.a)(this,c),t.apply(this,arguments)}return Object(y.a)(c,[{key:"render",value:function(){return Object(l.jsxs)(T.a,{className:"container-slider",children:[Object(l.jsx)(T.a.Item,{children:Object(l.jsx)("img",{className:"d-block w-100 slide-img",src:I,alt:"London Big Ben"})}),Object(l.jsx)(T.a.Item,{children:Object(l.jsx)("img",{className:"d-block w-100 slide-img",src:S,alt:"Tourist guide"})}),Object(l.jsx)(T.a.Item,{children:Object(l.jsx)("img",{className:"d-block w-100 slide-img",src:w,alt:"Munich postcard"})})]})}}]),c}(n.Component),q=c(4),L=c(11),B=c(139),E=(c(111),function(e){var t=e.id,c=e.img,n=e.name,a=e.desc,s=e.price;return Object(l.jsxs)(B.a,{className:"card",children:[Object(l.jsx)(B.a.Img,{src:c,alt:n,className:"card-img"}),Object(l.jsxs)(B.a.Body,{children:[Object(l.jsx)(B.a.Title,{className:"card-name",children:n}),Object(l.jsx)(B.a.Text,{className:"card-desc",children:a}),Object(l.jsxs)(B.a.Text,{className:"card-price",children:[s," \u20ac"]}),Object(l.jsx)(u.b,{to:"/detail/".concat(t),className:"card-btn",children:"Book Now"})]})]})}),P=(c(112),function(e){var t=e.cities,c=void 0===t?[]:t;return Object(l.jsxs)("section",{className:"container container-fluid",children:[Object(l.jsx)("h2",{className:"container-title",children:"Found us here"}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"row",children:c.map((function(e){return Object(l.jsx)(E,Object(q.a)({},e),e.id)}))})]})}),A=Object(n.createContext)(),D=function(e){var t=e.children,c=Object(n.useState)(!1),a=Object(j.a)(c,2),s=a[0],i=a[1];return Object(l.jsx)(A.Provider,{value:{loading:s,setLoading:i},children:t})},J=c(41),K=(c(80),J.a.initializeApp({apiKey:"AIzaSyAd1pKhNKyhtkM3Bl0U1KBZRUK-t8Jvz4I",authDomain:"ecommerce-tourism.firebaseapp.com",projectId:"ecommerce-tourism",storageBucket:"ecommerce-tourism.appspot.com",messagingSenderId:"677410416976",appId:"1:677410416976:web:436214a8aab44050226455"})),Q=function(){return J.a.firestore(K)},M=(c(114),function(){return Object(l.jsxs)("h2",{className:"loading container-fluid",children:["Loading... ",Object(l.jsx)("div",{className:"loader container-fluid"})]})}),U=function(){var e=Object(n.useContext)(A),t=e.loading,c=e.setLoading,a=Object(L.g)().regionId,s=Object(n.useState)([]),i=Object(j.a)(s,2),r=i[0],o=i[1];return Object(n.useEffect)((function(){c(!0);var e=Q().collection("cities");a?e.where("region","==",a).get().then((function(e){var t=e.docs.map((function(e){return Object(q.a)(Object(q.a)({},e.data()),{},{id:e.id})}));o(t)})).finally((function(){c(!1)})):e.get().then((function(e){var t=e.docs.map((function(e){return Object(q.a)(Object(q.a)({},e.data()),{},{id:e.id})}));o(t)})).finally((function(){c(!1)}))}),[a,c]),Object(l.jsx)(l.Fragment,{children:t?Object(l.jsx)(M,{}):Object(l.jsx)(P,{cities:r})})},Y=(c(115),function(e){var t=e.max,c=e.quantity,n=e.setQuantity,a=e.add,s=e.added;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"button-box container-fluid",children:s?Object(l.jsx)(u.b,{to:"/cart",className:"finish-btn",children:"Finish the purchease"}):Object(l.jsxs)("div",{className:"button-box container-fluid",children:[Object(l.jsx)("button",{className:"minus-button",onClick:function(){c>1&&n(c-1)},children:"-"}),Object(l.jsx)("p",{children:c}),Object(l.jsx)("button",{className:"plus-button",onClick:function(){c<t&&n(c+1)},children:"+"}),Object(l.jsx)("button",{className:"add-button",onClick:a,children:"Add to cart"})]})})})}),_=(c(116),c(89)),z=function(e){var t=e.region,c=e.id,a=e.name,s=e.desc,i=e.bigdesc,r=e.img,o=e.picture,b=e.price,m=e.stock,h=Object(n.useContext)(d),O=h.addToCart,x=h.isInCart,f=Object(n.useState)(1),p=Object(j.a)(f,2),g=p[0],N=p[1];return Object(l.jsxs)("section",{className:"container-fluid",children:[Object(l.jsx)("img",{className:"city-img",src:o,alt:a}),Object(l.jsxs)("div",{className:"city-box container-fluid",children:[Object(l.jsx)("h2",{className:"city-name",children:a}),Object(l.jsxs)("div",{className:"city-data-box",children:[Object(l.jsx)("p",{className:"city-desc",children:i}),Object(l.jsxs)("div",{className:"city-ticket-box",children:[Object(l.jsx)("div",{className:"city-price-box",children:Object(l.jsxs)("p",{className:"city-price",children:[Object(l.jsx)(_.a,{className:"icon-price"}),b]})}),Object(l.jsx)(Y,{max:m,quantity:g,setQuantity:N,add:function(){O({id:c,name:a,region:t,desc:s,img:r,price:b,quantity:g})},added:x(c)})]})]}),Object(l.jsx)("div",{className:"back-btn-box",children:Object(l.jsx)(u.b,{to:"/regions/".concat(t),className:"city-btn",children:"Back"})})]})]})},R=function(){var e=Object(L.g)().itemId,t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(!1),r=Object(j.a)(i,2),o=r[0],d=r[1];return Object(n.useEffect)((function(){d(!0),Q().collection("cities").doc(e).get().then((function(e){s(Object(q.a)(Object(q.a)({},e.data()),{},{id:e.id}))})).finally((function(){d(!1)}))}),[e,d]),Object(l.jsx)("div",{children:o?Object(l.jsx)(M,{}):Object(l.jsx)(z,Object(q.a)({},a))})},H=(c(117),c.p+"static/media/guides.41509959.jpg"),W=function(){return Object(l.jsxs)("section",{className:"about-container container-fluid",children:[Object(l.jsx)("img",{className:"img-fluid",src:H,alt:"Tourist guides"}),Object(l.jsx)("h2",{className:"about-title text-center",children:"Changing the way of making tourism"}),Object(l.jsxs)("article",{className:"about-text",children:[Object(l.jsx)("p",{className:"about-p text-center",children:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua."}),Object(l.jsx)("p",{className:"about-p text-center",children:"At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."}),Object(l.jsx)("p",{className:"about-p text-center",children:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua."}),Object(l.jsx)("p",{className:"about-p text-center",children:"At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."})]})]})},Z=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){setTimeout((function(){a(!1)}),1e3)}),[]),Object(l.jsx)("div",{className:"container-fluid",children:c?Object(l.jsx)(M,{}):Object(l.jsx)(W,{})})},G=c(90),V=(c(118),function(){var e=Object(n.useContext)(d),t=e.cart,c=e.deleteFromCart,a=e.emptyCart;return Object(l.jsx)(l.Fragment,{children:t>=0?Object(l.jsx)("section",{className:"cart-screen-container",children:Object(l.jsxs)("div",{className:"cart-screen-container-empty",children:[Object(l.jsx)("h1",{className:"cart-screen-title",children:"Your cart is empty!"}),Object(l.jsx)("hr",{}),Object(l.jsx)(u.b,{to:"/regions",children:Object(l.jsx)("button",{className:"btn btn-danger btn-empty",children:"Find your city"})})]})}):Object(l.jsx)("section",{className:"cart-screen-container",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"cart-screen-title",children:"Your tours"}),Object(l.jsx)("div",{className:"cart-screen-container-full",children:t.map((function(e){return Object(l.jsxs)("div",{className:"cart-screen-box",children:[Object(l.jsx)("img",{src:e.img,alt:e.name,className:"card-screen-img"}),Object(l.jsx)("h3",{className:"cart-screen-name",children:e.name}),Object(l.jsxs)("p",{className:"cart-screen-text",children:["Quantity: ",e.quantity]}),Object(l.jsxs)("p",{className:"cart-screen-text",children:["Price: ",e.price*e.quantity," \u20ac"]}),Object(l.jsx)(G.a,{onClick:function(){return c(e.id)},className:"cart-screen-trash"})]},e.id)}))}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"btn-box",children:[Object(l.jsx)("button",{className:"btn btn-danger btn-empty",onClick:a,children:"Empty cart"}),Object(l.jsx)(u.b,{to:"/checkout",children:Object(l.jsx)("button",{className:"btn btn-danger btn-empty",children:"Finish buy"})})]})]})})})}),X=(c(119),c(14)),$=c(75),ee=c.n($),te=c(76),ce=c.n(te),ne=c(91),ae=(c(131),function(){var e=Object(n.useContext)(d),t=e.cart,c=e.cartTotal,a=e.emptyCart,s=Object(n.useState)({name:"",email:"",phone:0}),i=Object(j.a)(s,2),r=i[0],o=i[1],b=function(e){o(Object(q.a)(Object(q.a)({},r),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("section",{className:"checkout-box",children:[Object(l.jsx)("h2",{className:"checkout-title",children:"Checkout"}),Object(l.jsx)("hr",{}),t.length?Object(l.jsx)("div",{children:Object(l.jsxs)("form",{className:"form-box",onSubmit:function(e){e.preventDefault(),r.name.length>3&&r.email.length>3?function(e,t,c){return new Promise(function(){var n=Object(ne.a)(ce.a.mark((function n(a,s){var i,r,o,j,l,d,b;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Q(),r=i.collection("orders"),o={buyer:e,items:t,total:c,date:J.a.firestore.Timestamp.fromDate(new Date)},j=i.collection("cities").where(J.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),l=i.batch(),n.next=7,j.get();case 7:d=n.sent,b=[],d.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.quantity?l.update(e.ref,{stock:e.data().stock-c.quantity}):b.push(Object(q.a)({id:e.id},e.data()))})),0===b.length?r.add(o).then((function(e){l.commit(),a(e.id)})).catch((function(e){s(e)})):s({error:"There are no places available for this tour",noStock:b});case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}(r,t,c()).then((function(e){ee.a.fire({icon:"success",title:"Your booking has been registered!",text:"Your ID is ".concat(e,". Thank you very much for trusting us."),confirmButtonText:"Done"}),a()})).catch((function(e){console.log(e)})):ee.a.fire({icon:"error",title:"Oops...",text:"Something went wrong! Please check your information."})},children:[Object(l.jsx)("input",{className:"input",type:"text",value:r.name,onChange:b,name:"name",placeholder:"Name",required:!0}),Object(l.jsx)("input",{className:"input",type:"email",value:r.email,onChange:b,name:"email",placeholder:"Email",required:!0}),Object(l.jsx)("input",{className:"input",type:"phone",value:r.phone,onChange:b,name:"phone",placeholder:"Phone",required:!0}),Object(l.jsx)("button",{className:"btn btn-danger form-btn",type:"submit",children:"Submit"})]})}):Object(l.jsx)(L.a,{to:"/"})]})});var se=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(D,{children:Object(l.jsx)(b,{children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)(p,{}),Object(l.jsxs)(L.d,{children:[Object(l.jsxs)(L.b,{exact:!0,path:"/",children:[Object(l.jsx)(F,{}),Object(l.jsx)(U,{})]}),Object(l.jsx)(L.b,{exact:!0,path:"/region/:regionId",children:Object(l.jsx)(U,{})}),Object(l.jsx)(L.b,{exact:!0,path:"/about",children:Object(l.jsx)(Z,{})}),Object(l.jsx)(L.b,{exact:!0,path:"/detail/:itemId",children:Object(l.jsx)(R,{})}),Object(l.jsx)(L.b,{exact:!0,path:"/cart",children:Object(l.jsx)(V,{})}),Object(l.jsx)(L.b,{exact:!0,path:"/checkout",children:Object(l.jsx)(ae,{})}),Object(l.jsx)(L.b,{path:"*",children:Object(l.jsx)(L.a,{to:"/"})})]}),Object(l.jsx)(N,{})]})})})})},ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,140)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(se,{})}),document.getElementById("root")),ie()},99:function(e,t,c){}},[[132,1,2]]]);
//# sourceMappingURL=main.4503ac54.chunk.js.map